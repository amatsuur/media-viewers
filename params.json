{"name":"Media-viewers","tagline":"Enhanced document previews for a range of different document and media types","body":"Media Viewers for Alfresco Share\r\n================================\r\n\r\nAuthors: Will Abson (Alfresco), Peter LÃ¶fgren (Loftux AB)\r\n\r\nThis add-on project for Alfresco Share provides a number of content viewers to \r\ncomplement the out-of-the box set supplied with Share. It was previously named\r\n_Media Preview_.\r\n\r\nViewers can be configured into the Web Preview component of the Document\r\nDetails Page. In addition, the add-on supplies a custom dashlet which can be\r\nused to display any chosen document or content item on a site dashboard.\r\n\r\nThe following viewers are supplied in the v2.x add-on for use on Alfresco 4\r\n\r\n* **PdfJs** displays documents, presentations and any other file capable of being \r\n  transformed to PDF in-line in the web browser using the excellent [pdf.js](http://mozilla.github.com/pdf.js/)\r\n  viewer, which uses the power of HTML5 to remove Share's Flash dependency for \r\n  document viewing.\r\n  \r\n  The viewer supports a number of features not directly supported by the Flash\r\n  document previewer, such as a sidebar with thumbnail, outline and search views, \r\n  bookmarking of individual pages of a document, and will remember the page \r\n  number and zoom level of previous documents that you have viewed.\r\n  \r\n  ![PdfJs Viewer](http://sharextras.org/trunk/Media%20Preview/screenshots/pdfjs-doc.png)\r\n\r\n* **FLVPlayer** and **MP3Player** display compatible audio and video files respectively, within the web-browser using the \r\n  open source [FLV Player](http://flv-player.net/) and [MP3 Player](http://flash-mp3-player.net/) media players by [neolao](http://www.neolao.com/). Based on the \r\n  content's MIME type, the updated component automatically chooses the appropriate \r\n  previewer to use.\r\n  \r\n  While similar to the Flash players provided by Share out-of-the-box, these \r\n  implementations allow advanced customization of the player via configuration and\r\n  if [FFmpeg](http://ffmpeg.org/) is installed, will fire up a transformation to allow viewing \r\n  of non-H264/FLV video and non-MP3 audio. The user is informed when conversion\r\n  is in progress and the screen automatically updates when the content can\r\n  be viewed.\r\n  \r\n* **Embed** uses an in-line iFrame to embed the content itself directly inside the\r\n  web page. It is suitable for use with content types that can be viewed \r\n  directly within the web browser such as plain text and PDF, with the Chrome\r\n  or Acrobat plugins installed. Again, this can be used to avoid the use of \r\n  the Flash previewer for some clients.\r\n\r\n* **Prettify** allows formatted code, mark-up and other supported text formats\r\n  to be displayed in directly in the document and uses the [google-code-prettify](https://code.google.com/p/google-code-prettify/)\r\n  project to provide an in-line browser-based view with syntax highlighting.\r\n  \r\n  ![Prettify Viewer](http://sharextras.org/trunk/Media%20Preview/screenshots/prettify-js.png)\r\n\r\n* **WebODF** is an EXPERIMENTAL viewer which uses the AGPL-licensed [WebODF](http://www.webodf.org/) \r\n  project to display ODF content directly in the web browser.\r\n  \r\n  WebODF cannot be distributed with the add-in itself, so in order to use it you must also\r\n  download the latest JAR file from the supporting [share-webodf project](https://github.com/wabson/webodf-share/downloads) and\r\n  install it in the same way as the main media-viewers JAR file.\r\n  \r\nThe v0.x/1.x add-on supplies only the FLVPlayer and MP3Player add-ons and works on Alfresco 3.3/3.4.\r\n\r\nIn addition to the Share component extensions the add-on supplies repository extension configuration\r\nfor defining 'thumbnailed' content in PDF, H264/FLV and MP3 formats, a full-size image thumbnail for \r\nvideo files in JPEG format, and a transformer based on FFmpeg for generating the audio and video formats.\r\n\r\nDownload\r\n--------\r\n\r\nFor Alfresco 4.x, download the 2.0 version of Media Viewers.\r\n\r\n[Download Media Viewers add-on](http://code.google.com/p/share-extras/downloads/list?q=media-viewers)\r\n\r\nFor Alfresco 3.x, download the 0.x or 1.0 version of Media Preview.\r\n\r\n[Download Media Previews add-on](http://code.google.com/p/share-extras/downloads/list?q=media-preview)\r\n\r\nInstallation\r\n------------\r\n\r\nCopy the JAR file into the `tomcat/shared/lib` folder of your Alfresco installation (create the `lib` directory if it does not exist). If you are hosting\r\nthe repository and Share in different Tomcat containers then you should install it in both.\r\n\r\nSee _Configuration_ below, for instructions on how to enable the viewers in Share.\r\n\r\n### FFmpeg Installation (optional)\r\n\r\nThe supplied Spring configuration extends the repository thumbnailing capabilities to support \r\nH264/FLV thumbnails for video content and MP3 thumbnails for audio content, both\r\nusing FFmpeg, and PDF thumbnails for content such as Microsoft Word and Powerpoint\r\nfiles. PDF thumbnails can be generated using the default repository transformers,\r\nbut a custom transformer is supplied to enable the FFmpeg transformations.\r\n\r\nThe previews therefore do not require FFmpeg, but it is highly recommended to\r\nsupport the widest range of formats, and for thumbnail image generation.\r\n\r\nTo enable FFmpeg support you must\r\n\r\n1. Install FFmpeg (with [x264](http://www.videolan.org/developers/x264.html)) on the server\r\n   \r\n   It is unlikely that your standard package manager will install this for you. The \r\n   [FFmpeg documentation](https://ffmpeg.org/trac/ffmpeg/wiki) does however contain detailed documentation for compiling on\r\n   [Ubuntu](https://ffmpeg.org/trac/ffmpeg/wiki/UbuntuCompilationGuide) and [other operating systems](https://ffmpeg.org/trac/ffmpeg/wiki/CompilationGuide)\r\n   and the project also makes pre-built binaries available for [download](http://ffmpeg.org/download.html).\r\n   \r\n2. Edit your `alfresco-global.properties` file to define the location\r\n   of the FFmpeg executable and base directory (should not contain spaces)\r\n\r\n        ffmpeg.exe=<location of ffmpeg executable>\r\n   \r\n   The path should not contain spaces, and if you are on Windows you should use\r\n   forward slashes rather than backslashes as your directory separator, or use\r\n   double-backslashes to escape them.\r\n\r\nIf you are running Alfresco and Share in the same application server then the \r\nJAR file also contains the required repository configuration, but if these are\r\nin separate containers then you will need to install it into both.\r\n\r\nCheck the `alfresco.log` file while the repository is starting up for any \r\nwarnings or errors related to FFmpeg, if you have enabled it.\r\n\r\nBuilding from Source\r\n--------------------\r\n\r\nThe add-on has been developed to install on top of an existing Alfresco 4.0 or\r\n3.3/3.4 installation.\r\n\r\nAn Ant build script is provided to build a JAR file containing the \r\ncustom files, which can then be installed into the `tomcat/shared/lib` folder \r\nof your Alfresco installation.\r\n\r\nTo build the JAR file, run the following command from the base project \r\ndirectory.\r\n\r\n    ant -f project.xml dist-jar\r\n\r\nOr, for the 0.x/1.0 release\r\n\r\n    ant dist-jar\r\n\r\nThe command should build a JAR file named `media-viewers-{version}.jar`\r\nin the `dist` directory within your project.\r\n\r\nTo deploy the add-on files into a local Tomcat instance for testing, you can \r\nuse the `hotcopy-tomcat-jar` task. You will need to set the `tomcat.home`\r\nproperty in Ant.\r\n\r\n    ant -f project.xml -Dtomcat.home=C:/Alfresco/tomcat hotcopy-tomcat-jar\r\n\r\nAfter you have deployed the JAR file you will need to restart Tomcat to ensure \r\nit picks up the changes.\r\n\r\nConfiguration\r\n-------------\r\n\r\nYou must enable the **PdfJs** module in Share's Module Deployment console, which\r\ncan be accessed by navigating to `http://hostname:port/share/page/modules/deploy`\r\non your Alfresco server.\r\n\r\n*If you are using the `trunk` codeline from r1340 onwards on Alfresco 4.2, then you can use the \r\nsecond module **PdfJs Configuration** to automatically enable the viewer in the \r\nDocument Details page. Otherwise follow the instructions below.*\r\n\r\nAfter installing the add-on in Alfresco 4, you must then configure the `web-preview.get`\r\ncomponent to use the particular viewers that you wish to enable. To do this, you must\r\n\r\n1. Copy the file `WEB-INF/classes/alfresco/site-webscripts/org/alfresco/components/preview/web-preview.get.config.xml` \r\n   from the exploded Alfresco webapp into the directory `alfresco/web-extension/site-webscripts/org/alfresco/components/preview`\r\n   under your `tomcat/shared/classes`. You will need to create the new directories if you have not done this previously.\r\n\r\n2. Modify that file to add in the new viewers as needed\r\n\r\nAn in-depth discussion of the redesigned `web-preview` component in Alfresco 4 is provided on \r\n[Will's blog](http://blogs.alfresco.com/wp/wabson/2012/04/11/share-document-previews-in-alfresco-4/),\r\nwhere the configuration mechanism is explained. \r\nOr, you can re-use the example configuration below and comment out any parts that you don't want.\r\n\r\nNo additional configuration is required for the 0.x/1.x version of the add-on in\r\nAlfresco 3.\r\n\r\n###Sample Configuration\r\n\r\n    <config>\r\n    \r\n       <!--\r\n          List of rule to decide which plugin that shall be used to preview the node's content or thumbnails.\r\n          The list is evaluated from the top.\r\n          All attributes for a condition must match.\r\n          When a condition matches the nodes' mimeType and/or thumbails its list of plugins are tested from the top.\r\n          Every plugin will be created and get an opportunity to decide if it may be used in the users browser environment.\r\n          If the plugin can't be used it will give a report back to the user that will be displayed if neither of the\r\n          plugins in the list can be used.\r\n       -->\r\n    \r\n       <plugin-conditions>\r\n    \r\n          <!--\r\n              Enables the PdfJs viewer for all PDF documents or Embed in older browsers\r\n              \r\n              The PdfJs <plugin> element supports the following attributes to further control the viewer\r\n              \r\n                * src=\"value\"    Name of the thumbnail to display, which should be a PDF (default null, forces the cm:content property to be used)\r\n                * skipbrowsertest=\"true|false\"    Skipbrowser test, mostly for developer to force test loading (default \"false\")\r\n                * mode=\"iframe|block\" Display mode. \"block\" is the normal Share view, \"iframe\" uses the pdf.js viewer in an iframe (deprecated, default \"block\")\r\n                * defaultScale=\"page-width|two-page-width|page-height|page-fit|two-page-fit|auto|value\" Default zoom level for new documents, either a predefined string (for auto-calculation) or a decimal number between 0 and 1 (default \"two-page-fit\")\r\n                * scaleDelta=\"value\"   Multipler for zooming in/out, should be a decimal > 1 (default \"1.1\")\r\n                * pageLayout=\"single|multi\"   Layout to use to display pages, \"single\" (one page per row) or \"multi\" (multiple pages per row) (default \"multi\")\r\n                * disableTextLayer=\"true|false\"   Whether text overlays on pages should be disabled. Overlays allow users to select text content in their browser but reduce rendering performance (default \"false\")\r\n                * useLocalStorage=\"true|false\"   Whether to use HTML5 browser storage to persist the page number and zoom level of previously-viewed documents (default \"true\")\r\n              \r\n              The Embed <plugin> element supports the following attributes\r\n              \r\n                * src=\"value\"    Name of the thumbnail to display (default null, forces the cm:content property to be used)\r\n                * ieActiveX=\"true|false\"   Comma separated string of Windows ActiveX id:s. Used in Internet Explorer only to test for plugin presence. (default \"AcroPDF.PDF,PDF.PdfCtrl,FOXITREADEROCX.FoxitReaderOCXCtrl.1\")\r\n                * testPluginAvailability=\"true|false\" Test if a plugin is available. Use for mime types that need a plugin to display for example application/pdf (default \"false\")\r\n          -->\r\n          <condition mimeType=\"application/pdf\">\r\n             <plugin>PdfJs</plugin>\r\n             <plugin>Embed</plugin>\r\n          </condition>\r\n          \r\n          <!--\r\n              Enables the PdfJs viewer for other content which can be transformed to PDF or Embed \r\n              in older browsers.\r\n              \r\n              Note, the OpenOffice transformer must be available on the server for this to work.\r\n          -->\r\n          <condition thumbnail=\"pdf\">\r\n             <plugin src=\"pdf\">PdfJs</plugin>\r\n             <plugin src=\"pdf\">Embed</plugin>\r\n          </condition>\r\n          \r\n          <!--\r\n              Enables the FLVPlayer viewer for video formats natively-supported by Flash\r\n              \r\n              The <plugin> element supports the following attributes to further control the viewer\r\n              \r\n                * poster=\"value\"    Name of the static image thumbnail to display before displaying the video (default \"imgpreviewfull\")\r\n                * queueMissingRenditions=\"true|false\"    Whether the player should attempt to queue the generation of missing video thumbnails (default \"true\")\r\n                * autoplay=\"true|false\" Whether to auto-play the video (default \"false\")\r\n                * autoload=\"true|false\" Whether to auto-load the video (default \"true\")\r\n                * playercolor=\"value\"   Color of the player in hex notation, without the initial '#' (default \"e1e3e5\")\r\n                * buttoncolor=\"value\"   Color of the player button icons in hex notation (default \"000000\")\r\n                * buttonovercolor=\"value\"   Hover color of the player buttons in hex notation (default \"0088de\")\r\n                * sliderovercolor=\"value\"   Hover color of the player slider in hex notation (default \"0088de\")\r\n                * showfullscreen=\"true|false\"   Whether to show the full screen button (default \"true\")\r\n                * showiconplay=\"true|false\"   Whether to show the play button (default \"true\")\r\n                * showvolume=\"true|false\"   Whether to show the volume control (default \"true\")\r\n                * showtime=\"true|false\"   Whether to show the elapsed time in the player (default \"true\")\r\n                * playermargin=\"value\"   Margin in pixels around the player (default \"0\")\r\n          -->\r\n          <condition mimeType=\"video/mp4\">\r\n             <plugin>FLVPlayer</plugin>\r\n          </condition>\r\n          <condition mimeType=\"video/m4v\">\r\n             <plugin>FLVPlayer</plugin>\r\n          </condition>\r\n          <condition mimeType=\"video/x-flv\">\r\n             <plugin>FLVPlayer</plugin>\r\n          </condition>\r\n          \r\n          <!--\r\n              Enables the FLVPlayer viewer for other common video formats. This requires FFmpeg support.\r\n          -->\r\n          <condition mimeType=\"video/mpeg2\" thumbnail=\"h264preview\">\r\n             <plugin>FLVPlayer</plugin>\r\n          </condition>\r\n          <condition mimeType=\"video/quicktime\" thumbnail=\"h264preview\">\r\n             <plugin>FLVPlayer</plugin>\r\n          </condition>\r\n          <condition mimeType=\"video/ogg\" thumbnail=\"h264preview\">\r\n             <plugin>FLVPlayer</plugin>\r\n          </condition>\r\n          <condition mimeType=\"video/x-msvideo\" thumbnail=\"h264preview\">\r\n             <plugin>FLVPlayer</plugin>\r\n          </condition>\r\n          <condition mimeType=\"video/webm\" thumbnail=\"h264preview\">\r\n             <plugin>FLVPlayer</plugin>\r\n          </condition>\r\n          \r\n          <!--\r\n              Enables the MP3Player viewer for audio formats natively-supported by Flash\r\n          -->\r\n          <condition mimeType=\"audio/mpeg\">\r\n             <plugin>MP3Player</plugin>\r\n          </condition>\r\n          \r\n          <!--\r\n              Enables the MP3Player viewer for other common audio formats. This requires FFmpeg support.\r\n              \r\n              The <plugin> element supports the following attributes to further control the viewer\r\n              \r\n                * mp3ThumbnailName=\"value\"    Name of the audio thumbnail to look in for MP3 audio content for non-MP3 files (default \"mp3thumbnail\")\r\n                * queueMissingRenditions=\"true|false\"    Whether the player should attempt to queue the generation of missing audio thumbnails (default \"true\")\r\n                * autoplay=\"true|false\" Whether to auto-play the audio (default \"false\")\r\n                * autoload=\"true|false\" Whether to auto-load the audio (default \"true\")\r\n          -->\r\n          <condition mimeType=\"audio/x-wav\" thumbnail=\"mp3preview\">\r\n             <plugin>MP3Player</plugin>\r\n          </condition>\r\n          <condition mimeType=\"audio/x-flac\" thumbnail=\"mp3preview\">\r\n             <plugin>MP3Player</plugin>\r\n          </condition>\r\n          <condition mimeType=\"audio/vorbis\" thumbnail=\"mp3preview\">\r\n             <plugin>MP3Player</plugin>\r\n          </condition>\r\n          <condition mimeType=\"audio/ogg\" thumbnail=\"mp3preview\">\r\n             <plugin>MP3Player</plugin>\r\n          </condition>\r\n          <condition mimeType=\"audio/x-ms-wma\" thumbnail=\"mp3preview\">\r\n             <plugin>MP3Player</plugin>\r\n          </condition>\r\n          \r\n          <!--\r\n              Enables the Prettify viewer for JavaScript files using language auto-detection\r\n              and for CSS files setting the type explictly (see list in prettify's README)\r\n          -->\r\n          <condition mimeType=\"application/x-javascript\">\r\n             <plugin>Prettify</plugin>\r\n          </condition>\r\n          <condition mimeType=\"text/css\">\r\n             <plugin lang=\"lang-css\">Prettify</plugin>\r\n          </condition>\r\n    \r\n          <!--\r\n              Enables the EXPERIMENTAL WebODF viewer for Open Document text files\r\n          -->\r\n          <condition mimeType=\"application/vnd.oasis.opendocument.text\">\r\n             <plugin>WebODF</plugin>\r\n          </condition>\r\n          \r\n          <!-- DEFAULT SHARE CONFIGURATION BELOW THIS LINE -->\r\n    \r\n          <!-- Video with posters -->\r\n    \r\n          <condition mimeType=\"video/mp4\" thumbnail=\"imgpreview\">\r\n             <plugin poster=\"imgpreview\" posterFileSuffix=\".png\">StrobeMediaPlayback</plugin>\r\n             <plugin poster=\"imgpreview\" posterFileSuffix=\".png\">FlashFox</plugin>\r\n             <plugin poster=\"imgpreview\" posterFileSuffix=\".png\">Video</plugin>\r\n          </condition>\r\n    \r\n          <condition mimeType=\"video/m4v\" thumbnail=\"imgpreview\">\r\n             <plugin poster=\"imgpreview\" posterFileSuffix=\".png\">StrobeMediaPlayback</plugin>\r\n             <plugin poster=\"imgpreview\" posterFileSuffix=\".png\">FlashFox</plugin>\r\n             <plugin poster=\"imgpreview\" posterFileSuffix=\".png\">Video</plugin>\r\n          </condition>\r\n    \r\n          <condition mimeType=\"video/x-flv\" thumbnail=\"imgpreview\">\r\n             <plugin poster=\"imgpreview\" posterFileSuffix=\".png\">StrobeMediaPlayback</plugin>\r\n             <plugin poster=\"imgpreview\" posterFileSuffix=\".png\">FlashFox</plugin>\r\n          </condition>\r\n    \r\n          <condition mimeType=\"video/quicktime\" thumbnail=\"imgpreview\">\r\n             <plugin poster=\"imgpreview\" posterFileSuffix=\".png\">StrobeMediaPlayback</plugin>\r\n          </condition>\r\n    \r\n          <condition mimeType=\"video/ogg\" thumbnail=\"imgpreview\">\r\n             <plugin poster=\"imgpreview\" posterFileSuffix=\".png\">Video</plugin>\r\n          </condition>\r\n    \r\n          <condition mimeType=\"video/webm\" thumbnail=\"imgpreview\">\r\n             <plugin poster=\"imgpreview\" posterFileSuffix=\".png\">Video</plugin>\r\n          </condition>\r\n    \r\n          <!-- Video without posters -->\r\n    \r\n          <condition mimeType=\"video/mp4\">\r\n             <plugin>StrobeMediaPlayback</plugin>\r\n             <plugin>FlashFox</plugin>\r\n             <plugin>Video</plugin>\r\n          </condition>\r\n    \r\n          <condition mimeType=\"video/x-m4v\">\r\n             <plugin>StrobeMediaPlayback</plugin>\r\n             <plugin>FlashFox</plugin>\r\n             <plugin>Video</plugin>\r\n          </condition>\r\n          <condition mimeType=\"video/x-flv\">\r\n             <plugin>StrobeMediaPlayback</plugin>\r\n             <plugin>FlashFox</plugin>\r\n          </condition>\r\n    \r\n          <condition mimeType=\"video/quicktime\">\r\n             <plugin>StrobeMediaPlayback</plugin>\r\n          </condition>\r\n    \r\n          <condition mimeType=\"video/ogg\">\r\n             <plugin>Video</plugin>\r\n          </condition>\r\n    \r\n          <condition mimeType=\"video/webm\">\r\n             <plugin>Video</plugin>\r\n          </condition>\r\n    \r\n          <!-- Audio -->\r\n          <condition mimeType=\"audio/mpeg\">\r\n             <plugin>StrobeMediaPlayback</plugin>\r\n             <plugin>FlashFox</plugin>\r\n             <plugin>Audio</plugin>\r\n          </condition>\r\n    \r\n          <condition mimeType=\"audio/x-wav\">\r\n             <plugin>Audio</plugin>\r\n          </condition>\r\n    \r\n          <!-- Documents that has been converted to .swf -->\r\n    \r\n          <condition thumbnail=\"webpreview\">\r\n             <plugin src=\"webpreview\" paging=\"true\">WebPreviewer</plugin>\r\n          </condition>\r\n    \r\n          <!-- Content that has an image preview thumbnail -->\r\n    \r\n          <condition thumbnail=\"imgpreview\">\r\n             <plugin src=\"imgpreview\">Image</plugin>\r\n          </condition>\r\n    \r\n          <!-- Images in real size (if they didn't have a imgpreview) -->\r\n    \r\n          <condition mimeType=\"image/jpeg\">\r\n             <plugin srcMaxSize=\"500000\">Image</plugin>\r\n          </condition>\r\n    \r\n          <condition mimeType=\"image/png\">\r\n             <plugin srcMaxSize=\"500000\">Image</plugin>\r\n          </condition>\r\n    \r\n          <condition mimeType=\"image/gif\">\r\n             <plugin srcMaxSize=\"500000\">Image</plugin>\r\n          </condition>\r\n    \r\n          <condition mimeType=\"application/x-shockwave-flash\">\r\n             <plugin>Flash</plugin>\r\n          </condition>\r\n    \r\n          <!-- To add zooming capabilities for images place the following inside a <condition> element -->\r\n          <!-- <plugin>WebPreviewer</plugin> -->\r\n    \r\n       </plugin-conditions>\r\n    \r\n    </config>\r\n\r\nLastly you must enable the relevant modules in the Share [Module Deployment console](http://code.google.com/p/share-extras/wiki/ModuleDeployment), after Alfresco\r\nhas started up. You can access this page from the main Web Scripts index page.\r\n\r\nUsage\r\n-----\r\n\r\nUpload a supported file type to Alfresco Share and navigate to the Document Details page to \r\nsee the preview.\r\n\r\nTo use the Document Viewer dashlet, navigate to a site dashboard. Then, click the \r\n_Customize Dashboard_ button to edit the contents of the dashboard and drag \r\nthe dashlet into one of the columns from the list of dashlets.\r\n\r\nTroubleshooting\r\n---------------\r\n\r\n###Web Previews\r\n\r\nThe most common problem that you may see when using the viewers is that the text _Preparing Previewer..._ is shown on the screen. This is usually\r\naccompanied by an error in the browser JavaScript console indicating that the plugin instance could not be created.\r\n\r\nIf you see this on your system, check that the add-on is installed correctly and that you have enabled the relevant viewers\r\nin the Module Deployment console.\r\n\r\n###FFmpeg\r\n\r\nIf you have problems with audio and video previews or thumbnails not working, first check your `alfresco.log` for any errors being thrown at startup, relating to FFmpeg. \r\nIf no errors are shown, you can force the transformers to give you a little more information by adding the \r\nfollowing lines to the file `webapps/alfresco/WEB-INF/classes/log4j.properties`.\r\n\r\n    log4j.logger.org.alfresco.util.exec.RuntimeExec=debug\r\n    log4j.logger.org.alfresco.repo.content.transform=debug\r\n    log4j.logger.org.alfresco.repo.thumbnail=debug\r\n\r\nIf no problems are obvious and you _still_ find that thumbnails do not get generated or the player does not render, \r\nyou can make a direct request for the specific renditions to help diagnose the problem. In the URLs below you \r\nwill need to replace the `{nodeId}` token with the GUID of the problematic file (which you can grab from the end of \r\nthe Document Details page URL), and substitute in the hostname of your server in place of `{hostname}`.\r\n\r\n * For thumbnail problems, hit [http://{hostname}/share/proxy/alfresco/api/node/workspace/SpacesStore/{nodeId}/content/thumbnails/doclib?c=force](http://{hostname}/share/proxy/alfresco/api/node/workspace/SpacesStore/{nodeId}/content/thumbnails/doclib?c=force)\r\n * For player problems, hit [http://{hostname}/share/proxy/alfresco/api/node/workspace/SpacesStore/{nodeId}/content/thumbnails/h264preview?c=force](http://{hostname}/share/proxy/alfresco/api/node/workspace/SpacesStore/{nodeId}/content/thumbnails/h264preview?c=force)\r\n\r\nThis should force the thumbnails to be generated syncronously, and a stack trace will be visible in the page response or in `alfresco.log`.\r\n\r\nKnown Issues\r\n------------\r\n\r\n* Chrome on Windows does not correctly render PDF documents converted via OpenOffice, when using the PdfJs \r\n  viewer. This is due to a [Chrome bug](http://code.google.com/p/chromium/issues/detail?id=122465). The viewer therefore tests for this combination of browser and operating \r\n  system and declines to display the content. Fortunately the Embed viewer is able to render the content\r\n  via Chrome's built-in PDF support.\r\n\r\n* In versions 3.3, 3.4.a, 3.4.b and 3.4.c, the video player only supports previews of MP4 and FLV content, due to \r\n  a bug whereby the thumbnail service [cannot produce renditions using a RuntimeExec transformer](https://issues.alfresco.com/jira/browse/ALF-4214). \r\n  The workaround for this is to apply the fix in the JIRA issue to patch your \r\n  own `alfresco-repository.jar`. This is fixed in version 3.4.d.\r\n\r\n* Prior to Alfresco Community 3.4.b, adding the additional thumbnail definitions to the thumbnail registry required \r\n  overriding the entire thumbnailRegistry bean. The supplied Spring configuration still uses this old method for now \r\n  in order to support the widest range of versions, but if this causes you problems you can use the new \r\n  `org.alfresco.repo.thumbnail.ThumbnailDefinitionSpringRegistrer` bean instead \r\n  ([example config](http://fisheye.alfresco.com/browse/alfresco_open_mirror/alfresco/HEAD/root/projects/repository/config/alfresco/extension/video-transformation-context.xml.sample?r=22817))\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}